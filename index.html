<!DOCTYPE html>

<html>
  <head>
    <title>DomEtherWallet Frontend</title>

	<script src="https://unpkg.com/@metamask/legacy-web3@latest/dist/metamask.web3.min.js"></script>


  
   
    <style>
          body {
               background-color: blue;
               font-size:35px;
               text-align: center;
              }
           button {
               background-color: violet;
               font-size: 45px;
               }
           button:hover {
              background-color: yellow;
               }
    </style>
  
  </head>
  <body>
    <h1>DomEtherWallet Frontend</h1>
  <div>
    <p1>The Domiciliaary Etherem Wallet Vs--8</p1>

  </div>

  <div>
    <p2>concerned about safety of your crypto assets,<br> enter the <it>Domiciliay Ethereum Wallet</it></p2>
  </div>

  <button onclick="provider.send('eth_requestAccounts', []).then(() => {
    provider.listAccounts().then((accounts) => {
      signer = provider.getSigner(accounts[0]);
      document.getElementById('wallet-address').innerHTML = accounts[0];
    });
  });">Get Wallet Address</button>
  <div id="wallet-address"></div>
  

    <button id="getbalance-button">Get Balance</button><br>

    <button id="withdraw-button" onclick="withdraw()">Withdraw</button>
     <input type="number" id="withdraw-amount" placeholder="Enter amount to withdraw"></input>

     <script
     src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
     type="application/javascript"
   ></script>
    
    
    <script>
    
    var provider = new ethers.providers.Web3Provider(window.ethereum, "goerli");
      
      var Address = "0x9a58792E8FEbeCDfB646Eb021D8dbDfC6FB1dFd3";
      var ABI = [
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_amount",
				"type": "uint256"
			}
		],
		"name": "withdraw",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	},
	{
		"inputs": [],
		"name": "getbalnce",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address payable",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
      var DomEtherContract;
      var signer;

      provider.send("eth_requestAccounts", []).then(() => {
  provider.listAccounts().then((accounts) => {
    signer = provider.getSigner(accounts[0]);
    DomEtherContract = new ethers.Contract(
      Address,
      ABI,
      signer
    );
  });
});

    async function getbalnce() {
        withdrawPromise =  DomEtherContract.getbalnce();
        var amount = await withdrawPromise;
        console.log(amount);
    }	  


    async function withdraw()  {
      let amount = document.getElementById("amount").value;
         withdrawPromise = DomEtherContract.withdraw(amount);
         await withdrawPromise;
    }

    </script>
    
    
</body>
</html>
